---
import Layout from '~/layouts/PageLayout.astro';
import { researchAreas } from '~/data/research';
import type { ResearchArea } from '~/data/research';
import { getPermalink } from '~/utils/permalinks';

export function getStaticPaths() {
  return researchAreas.map((area) => ({
    params: { slug: area.slug },
    props: { area },
  }));
}

interface Props {
  area: ResearchArea;
}

const { area } = Astro.props;

const metadata = {
  title: area.title,
  description: area.summary,
};
---

<Layout metadata={metadata}>
  <section class="mx-auto max-w-5xl px-6 py-16 lg:py-24">
    <a href={getPermalink('/research')} class="inline-flex items-center text-sm font-medium text-sky-700 hover:underline">← Back to Research</a>

    <h1 class="mt-4 text-4xl font-bold tracking-tight text-gray-900">{area.title}</h1>
    <p class="mt-4 text-lg text-gray-700">{area.overview}</p>

    <div class="mt-10 grid gap-6 md:grid-cols-3">
      <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
        <h2 class="text-lg font-semibold text-gray-900">Focus Areas</h2>
        <ul class="mt-3 space-y-2 text-gray-700">
          {area.focus.map((item) => <li>• {item}</li>)}
        </ul>
      </article>

      <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
        <h2 class="text-lg font-semibold text-gray-900">Methods</h2>
        <ul class="mt-3 space-y-2 text-gray-700">
          {area.methods.map((item) => <li>• {item}</li>)}
        </ul>
      </article>

      <article class="rounded-2xl border border-gray-200 bg-white p-6 shadow-sm">
        <h2 class="text-lg font-semibold text-gray-900">Recent Directions</h2>
        <ul class="mt-3 space-y-2 text-gray-700">
          {area.recentDirections.map((item) => <li>• {item}</li>)}
        </ul>
      </article>
    </div>
  </section>
</Layout>
